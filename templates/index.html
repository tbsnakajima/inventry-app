<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>在庫確認</title>
    <script>
        async function loadStock() {
            const res = await fetch("/stock");
            const data = await res.json();
            const table = document.getElementById("stock_table");
            table.innerHTML = "<tr><th>品目ID</th><th>品目名</th><th>カテゴリー</th><th>単位</th><th>在庫数</th><th>発注フラグ</th></tr>";
            data.forEach(row => {
                const tr = document.createElement("tr");
                tr.innerHTML = `<td>${row.item_id}</td>
                                <td>${row.item_name}</td>
                                <td>${row.category}</td>
                                <td>${row.unit}</td>
                                <td>${row.quantity}</td>
                                <td>${row.reorder_flag ? "⚠" : ""}</td>`;
                table.appendChild(tr);
            });
        }

        window.onload = loadStock;
    </script>
</head>
<body>
    <h2>在庫確認</h2>
    <table border="1" id="stock_table"></table>
    <br>
    <a href="/logout">ログアウト</a>
</body>
</html>
